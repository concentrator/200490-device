$(document).ready(function(){function a(a){var e=document.createElement("canvas"),t=e.getContext("2d"),r=new Image;r.src=a,e.width=r.width,e.height=r.height,t.drawImage(r,0,0);for(var i=t.getImageData(0,0,e.width,e.height),s=0;s<i.height;s++)for(var o=0;o<i.width;o++){var n=4*s*i.width+4*o,d=(i.data[n]+i.data[n+1]+i.data[n+2])/3;i.data[n]=d,i.data[n+1]=d,i.data[n+2]=d}return t.putImageData(i,0,0,0,0,i.width,i.height),e.toDataURL()}function e(){var a=navigator.userAgent.toLowerCase();return $.browser.chrome=/chrome/.test(a),$.browser.safari=/webkit/.test(a),$.browser.opera=/opera/.test(a),$.browser.msie=/msie/.test(a)&&!/opera/.test(a),$.browser.mozilla=/mozilla/.test(a)&&!/(compatible|webkit)/.test(a)||/firefox/.test(a),$.browser.chrome?"chrome":$.browser.mozilla?"mozilla":$.browser.opera?"opera":$.browser.safari?"safari":$.browser.msie?"ie":void 0}function t(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=t.exec(e)&&(a=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=t.exec(e)&&(a=parseFloat(RegExp.$1))}return a}if("opera"==e()||"safari"==e()){var r=$(".brands-list img"),i=r.length,s=0;r.one("load",function(){s++,s==i&&(grayscale($(".brands-list img")),$(".brands-list img").hover(function(){grayscale.reset($(this))},function(){grayscale($(this))}))}).each(function(){this.complete&&$(this).trigger("load")})}t()>=10&&($(".brands-list img").each(function(){var e=$(this);e.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: inline-block'>").clone().addClass("img_grayscale").css({position:"absolute","z-index":"5",opacity:"0"}).insertBefore(e).queue(function(){var a=$(this);a.parent().css({width:this.width,height:this.height}),a.dequeue()}),this.src=a(this.src)}),$(".brands-list img").hover(function(){$(this).parent().find("img:first").stop().animate({opacity:1},200)},function(){$(".img_grayscale").stop().animate({opacity:0},200)})),"mozilla"==e()?$("body").addClass("mozilla"):"ie"==e()?$("body").addClass("ie"):"opera"==e()?$("body").addClass("opera"):"safari"==e()?$("body").addClass("safari"):"chrome"==e()&&$("body").addClass("chrome"),t()>=10&&$("body").addClass("ie11")});
